<!DOCTYPE html>
<html class="has-navbar-fixed-top has-navbar-fixed-bottom has-background-light" lang="en">
<head>
	<meta charset="UTF-8">
	<title>Todo App</title>
	<link href="static/css/style.css" rel="stylesheet" type="text/css">
	<link href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/@creativebulma/bulma-divider@1.1.0/dist/bulma-divider.min.css"
	      rel="stylesheet">
	<script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
	<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
{% include "_topbar.html" %}
{% include "_flash.html" %}

{% block content %}
{% endblock %}

{% include "_newtask.html" %}
{% include "_bottombar.html" %}
<script>

//DOMContentLoaded - it fires when initial HTML document has been completely loaded
document.addEventListener('DOMContentLoaded', function () {
  // querySelector - it returns the element within the document that matches the specified selector
  var dropdown = document.getElementById('action-menu');

  //addEventListener - attaches an event handler to the specified element.
  dropdown.addEventListener('click', function(event) {

     //event.stopPropagation() - it stops the bubbling of an event to parent elements, by preventing parent event handlers from being executed
     event.stopPropagation();

     //classList.toggle - it toggles between adding and removing a class name from an element
     dropdown.classList.toggle('is-active');
  });
});

document.addEventListener('DOMContentLoaded', () => {
  // Functions to open and close a modal
  function openModal($el) {
    $el.classList.add('is-active');
  }

  function closeModal($el) {
    $el.classList.remove('is-active');
  }

  function closeAllModals() {
    (document.querySelectorAll('.modal') || []).forEach(($modal) => {
      closeModal($modal);
    });
  }

  // Add a click event on buttons to open a specific modal
  (document.querySelectorAll('.js-modal-trigger') || []).forEach(($trigger) => {
    const modal = $trigger.dataset.target;
    const $target = document.getElementById(modal);

    $trigger.addEventListener('click', () => {
      openModal($target);
    });
  });
  // Add a click event on various child elements to close the parent modal
  (document.querySelectorAll('.delete, .button') || []).forEach(($close) => {
    const $target = $close.closest('.modal');

    $close.addEventListener('click', () => {
      closeModal($target);
    });
  });

  // Add a keyboard event to close all modals
  document.addEventListener('keydown', (event) => {
    const e = event || window.event;

    if (e.keyCode === 27) { // Escape key
      closeAllModals();
    }
  });
});

{% block script %}
{% endblock %}



</script>
</body>
</html>